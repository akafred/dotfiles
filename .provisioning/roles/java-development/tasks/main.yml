- name: install intellij
  homebrew_cask: name={{ item }}
  with_items:
    - intellij-idea

- name: install old casks (for java 7)
  command: >
    /usr/local/bin/brew tap caskroom/homebrew-versions
    creates=/usr/local/Library/Taps/caskroom/homebrew-versions

- name: install java7 for appengine development
  homebrew_cask: name={{ item }}
  with_items:
    - java7

# - name: install maven
#  homebrew: name=maven

- name: install maven
  homebrew: name=maven

- name: add java_ls and java_use commands
  blockinfile:
    dest: "{{ ansible_env.HOME }}/.paths_homes_etc"
    marker: "# {mark} ANSIBLE MANAGED BLOCK for java commands"
    content: |
             alias java_ls='/usr/libexec/java_home -V 2>&1 | grep -E "\d.\d.\d[,_]" | cut -d , -f 1 | colrm 1 4 | grep -v Home'
             function java_use() {
                 export JAVA_HOME=$(/usr/libexec/java_home -v $1)
                 export PATH=$JAVA_HOME/bin:$PATH
                 java -version
             }
